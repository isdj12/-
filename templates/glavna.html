<!DOCTYPE html>
<html lang="ru">  <!-- Изменил язык на русский -->
<head>
    <title>Каталог игр</title> <!-- Добавил заголовок -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Подключение CSS файла -->
    <link rel="stylesheet" href="{{ css_file }}">
</head>
<body>
    <div id="inf">
        <div id="name">
            <!--  Заменил на относительный путь, если картинка в static -->
            <img src="{{ url_for('static', filename='fotor-ai-20250129000.jpg') }}" alt="Логотип" width="100px" height="70px">
        </div>
        <div class="buttons-container">
            <!--  Замените ссылки на ваши реальные маршруты -->
            <a href="#" class="so">Кнопка 1</a>
            <a href="#" class="so">Кнопка 2</a>
            <a href="#" class="so">Кнопка 3</a>
        </div>
        <input type="text" name="poisk" placeholder="Поиск..." class="poisk">
    </div>

   <div id="жанры">
       <!-- Добавил обертку form и кнопку submit для фильтрации -->
       <form action="/" method="GET">  <!--  Используем GET для фильтрации -->
            <input type="checkbox" class="custom-checkbox" id="happy1" name="genre" value="RPG">
            <label for="happy1">RPG</label>

            <input type="checkbox" class="custom-checkbox" id="happy2" name="genre" value="Шутеры">
            <label for="happy2">Шутеры</label>

            <input type="checkbox" class="custom-checkbox" id="happy3" name="genre" value="Гонки">
            <label for="happy3">Гонки</label>

            <input type="checkbox" class="custom-checkbox" id="happy4" name="genre" value="Экшен">
            <label for="happy4">Экшен</label>

            <input type="checkbox" class="custom-checkbox" id="happy5" name="genre" value="Стратегии">
            <label for="happy5">Стратегии</label>

            <input type="checkbox" class="custom-checkbox" id="happy6" name="genre" value="Файтинг">
            <label for="happy6">Файтинг </label>

            <input type="checkbox" class="custom-checkbox" id="happy7" name="genre" value="Хоррор">
            <label for="happy7">Хоррор</label>

            <input type="checkbox" class="custom-checkbox" id="happy8" name="genre" value="Симулятор">
            <label for="happy8">Симулятор</label>

            <input type="checkbox" class="custom-checkbox" id="happy9" name="genre" value="Аркады">
            <label for="happy9">Аркады</label>

            <input type="checkbox" class="custom-checkbox" id="happy10" name="genre" value="Стелс">
            <label for="happy10">Стелс </label>

            <input type="checkbox" class="custom-checkbox" id="happy11" name="genre" value="товер дефенс">
            <label for="happy11">товер дефенс</label>

           <button type="submit">Применить фильтры</button>
       </form>
    </div>

    <div class="game-indi">
      <input id="polzynok" type="range" min="0" max="100" value="50"/>  <!-- Добавил атрибуты для ползунка -->

        <div class="kart-container">  <!--  Добавил контейнер для карточек -->
            {% for item in glavna %}
                <div class="kart">  <!--  Используем div для карточки -->
                    {% if item.image %}
                        <img src="{{ item.image }}" alt="{{ item.name }}" class="foto">
                    {% else %}
                        <img src="{{ url_for('static', filename='placeholder.png') }}" alt="Placeholder" class="foto">
                        <!--  Добавьте placeholder.png в static -->
                    {% endif %}

                    <div class="opis">
                        <h2>{{ item.name }}</h2>
                        <p>{{ item.opis }}</p>
                        <div class="tegi_indi">
                           Теги: {{ item.teg1 }}{% if item.teg2 %}, {{ item.teg2 }}{% endif %}{% if item.teg3 %}, {{ item.teg3 }}{% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <!-- Форма для добавления новых игр (скрытая по умолчанию) -->
   <div id="add-game-form" style="display: none;">
    <h2>Добавить новую игру</h2>
    <form action="/" method="POST">
        <label for="name">Название:</label><br>
        <input type="text" id="name" name="name" required><br>

        <label for="opis">Описание:</label><br>
        <textarea id="opis" name="opis" required></textarea><br>

        <label for="teg1">Тег 1:</label><br>
        <input type="text" id="teg1" name="teg1" required><br>

        <label for="teg2">Тег 2:</label><br>
        <input type="text" id="teg2" name="teg2"><br>

        <label for="teg3">Тег 3:</label><br>
        <input type="text" id="teg3" name="teg3"><br>

        <label for="image">Путь к изображению (URL):</label><br>
        <input type="text" id="image" name="image"><br>

        <input type="submit" value="Добавить">
    </form>
    </div>
    <button onclick="toggleForm()">Добавить игру</button>

    <script>
        function toggleForm() {
            var form = document.getElementById("add-game-form");
            if (form.style.display === "none") {
                form.style.display = "block";
            } else {
                form.style.display = "none";
            }
        }
    </script>

</body>
</html>