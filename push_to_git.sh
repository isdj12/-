#!/bin/bash

echo "üöÄ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ push –≤ Git"
echo "================================"

cd ~/ai-mozg

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
echo ""
echo "üìã –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:"
git status --short

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
echo ""
echo "‚ûï –î–æ–±–∞–≤–ª—è—é —Ñ–∞–π–ª—ã..."
git add .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ config.py –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω
echo ""
echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ config.py..."
if git status --short | grep -q "config.py"; then
    echo "‚ùå –û–®–ò–ë–ö–ê: config.py –≤ —Å–ø–∏—Å–∫–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π!"
    echo "–≠—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ! –û—Ç–º–µ–Ω—è—é..."
    exit 1
else
    echo "‚úÖ config.py –Ω–µ –≤ —Å–ø–∏—Å–∫–µ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)"
fi

# –ü–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –±—É–¥–µ—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ
echo ""
echo "üì¶ –ë—É–¥–µ—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ:"
git status --short

# –ö–æ–º–º–∏—Ç
echo ""
read -p "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–æ–º–º–∏—Ç? (y/n): " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    git commit -m "Setup AI-–ú–û–ó–ì with Ollama support

- –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª—å—é Ollama (llama3.2)
- –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ tests/ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω .gitignore (–∏—Å–∫–ª—é—á–µ–Ω—ã —Ç–æ–∫–µ–Ω—ã, –ë–î, –æ—Ç—á–µ—Ç—ã)
- –£–¥–∞–ª–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ –ø–∞–ø–∫–∏ (my_tests, test_website, user_tests)
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"
    
    echo ""
    echo "‚úÖ –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω!"
    echo ""
    read -p "–ó–∞–ø—É—à–∏—Ç—å –≤ GitHub? (y/n): " -n 1 -r
    echo
    if [[ $REPLY =~ ^[Yy]$ ]]; then
        git push origin main
        echo ""
        echo "üéâ –ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–≤–µ—Ä—å: https://github.com/isdj12/-"
    else
        echo "‚è∏Ô∏è Push –æ—Ç–º–µ–Ω–µ–Ω. –ú–æ–∂–µ—à—å –∑–∞–ø—É—à–∏—Ç—å –ø–æ–∑–∂–µ: git push origin main"
    fi
else
    echo "‚è∏Ô∏è –ö–æ–º–º–∏—Ç –æ—Ç–º–µ–Ω–µ–Ω"
fi
